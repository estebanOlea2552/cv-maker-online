<!-- General Container -->
<form class="form" [formGroup]="cvFormGroup">
    <button
        type="button"
        mat-stroked-button
        aria-label="Reset"
        (click)="resetForm()"
        style="margin: 1%;">
            Limpiar Formulario
        </button>
    <!-- General Info -->
    <mat-card>
        <mat-card-header>
            <mat-card-title>Información General</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <text-line
                [groupName]="cvFormGroup"
                controlName="name"
                label="Nombre"
            ></text-line>
            <text-line
                [groupName]="cvFormGroup"
                controlName="lastname"
                label="Apellido"
            ></text-line>
            <text-line
                [groupName]="cvFormGroup"
                controlName="jobPosition"
                label="Puesto"
            ></text-line>          
        </mat-card-content>
        <mat-card-content>
            <mat-form-field>
                <mat-label>Sobre Mí</mat-label>
                <textarea
                matInput
                formControlName="aboutMe">
                </textarea>
            </mat-form-field>
        </mat-card-content>
    </mat-card>

    <!-- Academic Background -->
    <mat-card>
        <mat-card-header>
            <mat-card-title>Formación Académica</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div formArrayName="academicBackground">
                <div *ngFor="let control of academicBackground.controls, let i=index" [formGroupName]="i">
                    <mat-form-field>
                        <mat-label>Título</mat-label>
                        <input
                        matInput
                        formControlName="grade">
                    </mat-form-field>

                    <mat-form-field>
                        <mat-label>Universidad</mat-label>
                        <input
                        matInput
                        formControlName="school">
                    </mat-form-field>

                    <init-end-date></init-end-date>

                    <!-- <mat-form-field>
                        <mat-label>Fecha de inicio</mat-label>
                        <input
                        matInput
                        [matDatepicker]="academicBackgroundInitPicker"
                        formControlName="aBInitDate">
                        <mat-hint>mm/dd/aaaa</mat-hint>
                        <mat-datepicker-toggle matIconSuffix [for]="academicBackgroundInitPicker">
                        </mat-datepicker-toggle>
                        <mat-datepicker #academicBackgroundInitPicker startView="multi-year">
                        </mat-datepicker>
                    </mat-form-field>

                    <mat-form-field>
                        <mat-label>Fecha de finalización</mat-label>
                        <input matInput [matDatepicker]="academicBackgroundEndPicker"
                            formControlName="aBEndDate">
                        <mat-hint>mm/dd/aaaa</mat-hint>
                        <mat-datepicker-toggle matIconSuffix [for]="academicBackgroundEndPicker">
                        </mat-datepicker-toggle>
                        <mat-datepicker #academicBackgroundEndPicker startView="multi-year">
                        </mat-datepicker>
                    </mat-form-field> -->

                    <mat-form-field>
                        <mat-label>Descripción</mat-label>
                        <textarea
                        matInput
                        formControlName="description">
                        </textarea>
                    </mat-form-field>

                    <button
                    type="button"
                    matSuffix
                    mat-icon-button
                    aria-label="Remove"
                    (click)="removeAcademicBg(i)"
                    style="margin: 1%;">
                        <mat-icon>close</mat-icon>
                    </button>
                </div>
                <button
                type="button"
                mat-stroked-button
                (click)="addAcademicBg()">
                    Añadir
                </button>
            </div>
        </mat-card-content>
    </mat-card>

    <!-- Work Experience -->
    <mat-card>
        <mat-card-header>
            <mat-card-title>Experiencia Laboral</mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <div formArrayName="workExperience">
                <div *ngFor="let experience of workExperience.controls, let i=index" [formGroupName]="i">
                    <mat-form-field>
                        <mat-label>Posición</mat-label>
                        <input
                        matInput
                        formControlName="position">
                    </mat-form-field>

                    <mat-form-field>
                        <mat-label>Compañía</mat-label>
                        <input
                        matInput
                        formControlName="company">
                    </mat-form-field>

                    <init-end-date></init-end-date>

                    <!-- <mat-form-field>
                        <mat-label>Fecha de inicio</mat-label>
                        <input matInput [matDatepicker]="workExperienceInitPicker"
                            formControlName="wExpInitDate">
                        <mat-hint>mm/dd/aaaa</mat-hint>
                        <mat-datepicker-toggle matIconSuffix [for]="workExperienceInitPicker">
                        </mat-datepicker-toggle>
                        <mat-datepicker #workExperienceInitPicker startView="multi-year">
                        </mat-datepicker>
                    </mat-form-field>

                    <mat-form-field>
                        <mat-label>Fecha de finalización</mat-label>
                        <input matInput [matDatepicker]="workExperienceEndPicker"
                            formControlName="wExpEndDate">
                        <mat-hint>mm/dd/aaaa</mat-hint>
                        <mat-datepicker-toggle matIconSuffix [for]="workExperienceEndPicker">
                        </mat-datepicker-toggle>
                        <mat-datepicker #workExperienceEndPicker startView="multi-year">
                        </mat-datepicker>
                    </mat-form-field> -->

                    <mat-form-field>
                        <mat-label>Descripción</mat-label>
                        <textarea
                        matInput
                        formControlName="description">
                        </textarea>
                    </mat-form-field>

                    <button
                    type="button"
                    matSuffix
                    mat-icon-button
                    aria-label="Remove"
                    (click)="removeWorkExp(i)"
                    style="margin: 1%;">
                        <mat-icon>close</mat-icon>
                    </button>
                </div>
                <button
                type="button"
                mat-stroked-button
                (click)="addWorkExp()">
                    Añadir
                </button>
            </div>
        </mat-card-content>
    </mat-card>

    <!-- Skills -->
    <mat-card>
        <mat-card-header>
            <mat-card-title>Habilidades</mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <div formArrayName="skills">

                <div *ngFor="let skill of skills.controls, let i=index" style="display: flex;">
                    <mat-form-field style="display: block; width: 50%;">
                        <mat-label>Habilidad</mat-label>
                        <input
                        matInput
                        [formControlName]="i">
                    </mat-form-field>

                    <button
                    type="button"
                    matSuffix
                    mat-icon-button
                    aria-label="Remove"
                    (click)="removeSkill(i)"
                    style="margin: 1%;">
                        <mat-icon>close</mat-icon>
                    </button>
                </div>
                <button
                type="button"
                mat-stroked-button
                (click)="addSkill()">Añadir</button>
            </div>
        </mat-card-content>
    </mat-card>
</form>